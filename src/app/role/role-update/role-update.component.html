<div class="box">
    <div *ngIf="loading" class="loading-box">
      <mat-spinner></mat-spinner>
    </div>
    <div style="padding: 1rem;" *ngIf="role">
      <h2 class="la-font box-title">ແກ້ໄຂປະເພດຜູ້ໃຊ້ລະບົບ</h2>
      
      <div [formGroup]="form" style="display: flex;">
        <mat-form-field appearance="outline">
          <mat-label class="la-font">{{ "ປະເພດຜູ້ໃຊ້ລະບົບ" | translate }}</mat-label>
          <input matInput formControlName="role_name" class="la-font">
        </mat-form-field>

        <mat-checkbox formControlName="can_access_web" 
        style="margin-left: 20px;margin-top: 20px;">
          <span class="la-font">ມີສິດເຂົ້າເວັບນີ້ໄດ້</span>
        </mat-checkbox>
      </div>

      <h3 class="la-font" style="margin-bottom: 5px"><strong>ກຳນົດສິດ</strong></h3>

      <table class="table la-font">
        <tr>
          <th>ຊື່ເມນູ</th>
          <th width="15%">ອ່ານ</th>
          <th width="15%">ເພີ່ມ</th>
          <th width="15%">ແກ້ໄຂ</th>
          <th width="15%">ລົບ</th>
        </tr>
        <tr *ngFor="let permission of permissions">
          <td>{{permission.menu_name}}</td>
          <td>
            <mat-checkbox color="primary" [(ngModel)]="permission.can_read">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox color="primary" [(ngModel)]="permission.can_create">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox color="primary" [(ngModel)]="permission.can_update">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox color="primary" [(ngModel)]="permission.can_delete">
            </mat-checkbox>
          </td>
        </tr>
      </table>

      <div style="margin: 40px 0 10px">
        <a mat-stroked-button class="la-font" [routerLink]="baseUrl + '/role'">
          <mat-icon style="font-size: 16px;">keyboard_backspace</mat-icon>
          ຍົກເລີກ
        </a>
        <button mat-flat-button color="primary" class="la-font my-btn" 
        style="margin-left: 10px" (click)="submit()">
          <mat-icon style="font-size: 16px;">save</mat-icon>
          ບັນທຶກ
        </button>
      </div>
    </div>
  </div>
